{"ast":null,"code":"var _jsxFileName = \"/Users/nhly1204/Documents/LEARNJS/ReactJs/PhotoApp/src/features/Photo/components/PhotoForm/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { Button, Label } from \"reactstrap\";\nimport NotFound from \"../../../../components/NotFound\";\nimport RandomPhoto from \"../../../../components/RandomPhoto\";\nimport { PHOTO_CATEGORY_OPTIONS } from \"../../../../constants/global\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PhotoForm(_ref) {\n  _s();\n\n  let {\n    infoPhoto\n  } = _ref;\n  const {\n    register,\n    handleSubmit,\n    control\n  } = useForm();\n  const {\n    photoId\n  } = useParams();\n  const isAddMode = !photoId;\n  const [imageUrl, setImageUrl] = useState(\"https://picsum.photos/id/237/200/300\");\n  const initalValue = {\n    // title:\"\",\n    // category:\"\",\n    photo: imageUrl\n  };\n  const editedPhoto = useSelector(state => state.photo.find(x => x.id === +photoId));\n\n  const onHandleSubmit = data => {\n    data.photo = imageUrl;\n    const random = Math.trunc(Math.random() * 2000);\n    data.id = random;\n    infoPhoto(data);\n  };\n\n  const getRandomImageUrl = () => {\n    const randomId = Math.trunc(Math.random() * 2000);\n    setImageUrl(`https://picsum.photos/id/${randomId}/200/300`);\n    console.log(imageUrl);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onHandleSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"titleId\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"title\"),\n        value: isAddMode ? initalValue.title : editedPhoto.title,\n        placeholder: \"Eg: Wow nature ... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"categoryId\",\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: isAddMode ? initalValue.category : editedPhoto.category,\n        id: \"categoryId\",\n        name: \"categoryId\",\n        ...register(\"category\"),\n        children: PHOTO_CATEGORY_OPTIONS.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n          children: item.label\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"categoryId\",\n        children: \"Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: getRandomImageUrl,\n        children: \"Random a Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Controller, {\n        control: control,\n        name: \"photo\",\n        ...register(\"photo\"),\n        render: _ref2 => {\n          let {\n            field\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(RandomPhoto, { ...register(\"id\"),\n            imagesUrl: isAddMode ? initalValue.photo : editedPhoto.photo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"primary\",\n        children: \"Add to album\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PhotoForm, \"iUbTG9JP1sJrsbf9YaOmsiKmPvE=\", false, function () {\n  return [useForm, useParams, useSelector];\n});\n\n_c = PhotoForm;\nexport default PhotoForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhotoForm\");","map":{"version":3,"sources":["/Users/nhly1204/Documents/LEARNJS/ReactJs/PhotoApp/src/features/Photo/components/PhotoForm/index.jsx"],"names":["useState","Controller","useForm","useSelector","useParams","Button","Label","NotFound","RandomPhoto","PHOTO_CATEGORY_OPTIONS","PhotoForm","infoPhoto","register","handleSubmit","control","photoId","isAddMode","imageUrl","setImageUrl","initalValue","photo","editedPhoto","state","find","x","id","onHandleSubmit","data","random","Math","trunc","getRandomImageUrl","randomId","console","log","title","category","map","item","label","field"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { Button, Label } from \"reactstrap\";\nimport NotFound from \"../../../../components/NotFound\";\nimport RandomPhoto from \"../../../../components/RandomPhoto\";\nimport { PHOTO_CATEGORY_OPTIONS } from \"../../../../constants/global\";\n\nfunction PhotoForm({ infoPhoto }) {\n  const { register, handleSubmit, control } = useForm();\n  \n  const { photoId } = useParams();\n  const isAddMode = !photoId;\n\n\n  const [imageUrl, setImageUrl] = useState(\n   \n    ( \"https://picsum.photos/id/237/200/300\")\n   );\n  const initalValue={\n    // title:\"\",\n    // category:\"\",\n    photo:imageUrl\n  }\n  \n\n  const editedPhoto = useSelector((state) =>\n    state.photo.find((x) => x.id === +photoId)\n  );\n  \n  const onHandleSubmit = (data) => {\n    data.photo = imageUrl;\n    const random = Math.trunc(Math.random() * 2000);\n    data.id = random;\n    infoPhoto(data);\n  };\n\n  const getRandomImageUrl = () => {\n    const randomId = Math.trunc(Math.random() * 2000);\n    setImageUrl(`https://picsum.photos/id/${randomId}/200/300`);\n    console.log(imageUrl);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onHandleSubmit)}>\n      <div>\n        <Label for=\"titleId\">Title</Label>\n        <input\n          {...register(\"title\")}\n          value= { isAddMode? initalValue.title: editedPhoto.title}\n          placeholder=\"Eg: Wow nature ... \"\n        />\n      </div>\n\n      <div>\n        <Label for=\"categoryId\">Category</Label>\n        <select value={isAddMode? initalValue.category: editedPhoto.category} id=\"categoryId\" name=\"categoryId\" {...register(\"category\")}>\n          {PHOTO_CATEGORY_OPTIONS.map((item) => (\n            <option key={item.id}>{item.label}</option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <Label for=\"categoryId\">Photo</Label>\n        <button type=\"button\" onClick={getRandomImageUrl}>\n          Random a Photo\n        </button>\n      </div>\n\n      <div>\n        <Controller\n          control={control}\n          name=\"photo\"\n          {...register(\"photo\")}\n          render={({ field }) => (\n            <RandomPhoto {...register(\"id\")}\n             imagesUrl={isAddMode? initalValue.photo: editedPhoto.photo}\n             \n            ></RandomPhoto>\n          )}\n        ></Controller>\n      </div>\n      <div>\n        <Button type=\"submit\" color=\"primary\">\n          Add to album\n        </Button>\n      </div>\n    </form>\n  );\n}\nexport default PhotoForm;\n"]},"metadata":{},"sourceType":"module"}